<!--call by my-main.html -->
<link rel="import" href="my-list.html">
<link rel="import" href="my-editdata.html">
<link rel="import" href="my-worktimeline.html">
<dom-module id="management-data">
<style include="iron-flex iron-flex-alignment">  </style>
  <style>
  #add{
    position: fixed;
    z-index:1;
    right: 0;
    bottom: 0px;
    margin-bottom: 10px;
    margin-right: 25px;
  }
  #seeData{
    margin: 5px;
    padding: 5px;
  }
  paper-card{
    margin: 10px;
  }
  paper-card > .heading{
    margin-top: 10px;
    margin-left: 10px;
  }
  </style>
  <template>
    <div class="layout vertical">
      <paper-card>
        <my-worktimeline numselect="{{menudatas}}"></my-worktimeline>
        <!-- <button type="button" name="button" on-tap="checkd">เลข</button> -->
      </paper-card>

    <paper-card>
      <div class="heading">Data </div>
      <div class="card-content">
        <!-- column :{{menudatas}}  : lis [[lists.1.detail.1.id]] -->
        <!-- 1212 : {{kkk}} : {{menunum}} -->
        <!-- idparent="{{menudatas}}"  -->
      <!-- sp:  {{selected}} rer {{selected}}-->
      <!-- <button type="button" name="button" on-tap="fffff">กด</button>{{lists.0.detail.0.nameMenu}} -->
      </div>
    <div class="layout horizontal" id="seeData">
        <div class="flex">
          <paper-listbox>
            <template is="dom-repeat" items="[[kkk]]">
              <my-list menu="{{item}}" menuid={{selected}}></my-list>
            </template>
          </paper-listbox>
        </div>
        <div class="flex">
          <my-editdata dataselect="{{modelRight}}" dataselectindex="{{dataright}}" idparent="{{menudatas}}"></my-editdata>
        </div>
    </div>
  </div>
</paper-card>
    <paper-fab icon="add" title="เพิ่ม" mini id="add" on-tap="addmenu"></paper-fab>
  </template>
  <script>
    Polymer({
      is: "management-data",
      properties: {
        menudatas: {
          type: Number,
          value:-1
        },
        menunum: {
          type: Number,
          value:0
        },
        kkk : {
          type:Object,
        },
        selected:{
          type:Object,
        }
      },
      observers: [
        'changenum(menudatas)',
        'checkData(lists)',
        'checkDataRight(dataright)'
      ],
      checkDataRight:function(data){
        this.modelRight = JSON.parse(JSON.stringify(data));
      },
      checkData:function(data){

        if (this.menudatas > -1){
          this.kkk = this.lists[this.menudatas].detail;
        }
      },
      changenum: function(menudatas) {

        if (menudatas > -1){
          this.kkk = this.lists[menudatas].detail;
        }

      },
      attached: function() {

        this.globalData= document.getElementById('data');

      },
      addmenu:function(){
        // console.log(this.dataright);

        var nowDateTime=Date.now()
        this.globalData.adddata(this.menudatas,{id:nowDateTime,nameMenu:'ข้อมูล 4',detail:"รายละเอียดข้อมูล"});
        // this.push('list',{id:nowDateTime,nameMenu:'ข้อมูล 4',detail:"รายละเอียดข้อมูล"});
      },
      fffff:function(){
        console.log(this.selected);
      }
    });
  </script>
</dom-module>
